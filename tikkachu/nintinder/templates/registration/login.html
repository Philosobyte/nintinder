{% include "base_generic.html" %}
{% block content %}
{% load static%}

{% if form.errors %}
<div class="ui middle aligned center aligned grid">
  <div class="column">
    <a href={% url 'login' %}><img src= "{% static 'images/nintinder_red_on_transparent.png' %}"></a>
    <div id="login-message">
          Wrong password and login.
    </div>
{% endif %}


{% if user.is_authenticated %}
<div class="ui middle aligned center aligned grid">
    <div class="column">
      <div class="ui image header ">
        <a href={% url 'index' %}>You are already logged in.</a> 
      </div>
    </div>
</div>

{% else %}
<form class="ui large form middle aligned center aligned grid" method = "post" action = "{% url 'login' %}">
  {% csrf_token %}
  <div class="ui middle aligned center aligned grid">
    <div class="column">
      <a href={% url 'login' %}><img src= "{% static 'images/nintinder_red_on_transparent.png' %}"></a>
      <div id="login-message">
        For when you wanna smash. &#x1F60F; &trade; 
      </div>
      <div class="ui stacked segment">
        <div class="field">
          <div class="ui left icon input">
            <i class="user icon"></i>
            {{form.username}}
          </div>
        </div>
        <div class="field">
          <div class="ui left icon input">
            <i class="lock icon"></i>
            {{form.password }}
          </div>
        </div>
        <button id="login-button" input type = "submit" value = "login" class="ui fluid large submit button">Login</button>
        <input type="hidden" name="next" value="{{ next }}" />
      </div>
    </div>
  </div>
</form>
{% endif %}

{% endblock %}